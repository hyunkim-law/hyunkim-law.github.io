---
layout: post
title: "하다보니 법률테크 큐레이팅"
categories: ["how", "lawyering"] # suggestion: gtd, how, lawyering, news, stuff, books, english
excerpt: "하다보니 법률테크 큐레이팅을 하게 됐네요"
sharing:
  facebook: "하다보니 법률테크 큐레이팅을 합니다"
  twitter: "하다보니 법률테크 큐레이팅을 합니다"
  linkedin: "하다보니 법률테크 큐레이팅을 합니다"
color-scheme: cyan # available: red, orange, green, cyan, blue, magenta, brown 
date: 2020-03-14 05:02:23 +0900
tags: 
math: # true possibly
header-img: lawbook.jpg
# To include book: {% include book.html id='calstory' %}
# To include image: {% include image.html url='FN' description='description' alt='alt' %}
---

똑같은 짓을 반복하는 것을 무지 싫어합니다. 어쩌다보니 집에만 있다 보니, 앞으로 먹고 살게 걱정은 되지만, 그래도 시간이 남아 일단 숙원사업이랄까... 인 프로젝트를 끝냈습니다.

문제는 이것이었죠. 핸드폰으로 뭔가, 예를 들어 뉴스를 읽다가, 여기에 대해서는 스크랩, 내지는 한 마디 하고 싶은데, 이걸 예를 들어 페이스북에 공유하려면, (1) 복사하고 싶은 부분을 선택하여 복사한 다음, (2) 페이스북을 열고, (3) 페이스북 포스팅을 선택한 다음, (4) 붙여 넣고, (5) 다시 거기로 가서 주소를 전체선택하여 복사하고, (6) 다시 페이스북으로 가서 포스팅에 (아직 살아 있다면) 이걸 적당한 위치에 입력하고, (7) 하고 싶은 말을 한다. 그리고,

트위터를 하고 싶으면 똑같은 짓을 반복한다.

이 문제를 해결하기 위해 [아이폰에서 단축어 이용하여 포스팅하기](/blog/2020/03/iphone-shortcuts.html)에서 정리한 것처럼 단축어와 [Pythonista](https://apps.apple.com/kr/app/pythonista-3/id1085978097) 앱을 이용하여 파이썬 스크립트로 해결하는 방법을 찾아 냈죠. 사소한 문제는 단축어의 경우에는 주소를 받아 오는 시간이 좀 걸리고, Pythonista는 사파리에서는 잘 먹히지만, 다른 예를 들면 `feedly`같은 프로그램에서는 오락가락한다는 거죠. 그래도 Pythonista 해결책으로 가기로 결정했습니다. 이제 공유하고 싶은게 있으면, 공유할 부분을 선택, 복사한 다음 공유하기 버튼을 누르고, `Run Pythonista Script`를 선택한 다음 내가 짜 놓은 스크립트를 선택하면, 주소와 복사한 본문은 자동으로 들어와 있으므로, 내가 쓰고 싶은 말만 하면 되도록 한거죠. 그리고, 이어서 트위터와 링크드인에서도 받아 가도록 해 놓았습니다.

그리고, 리눅스에서는 [스크립트로 커맨드라인에서 포스팅](/blog/2020/03/facebook-post-with-ifttt.html)하는 방법을 정리했습니다. 해결할 문제는 마찬가지로, 페이스북을 열고-글쓰기를 하고, 여기저기 창을 왔다갔다하면서 글을 쓰는 번거로움을 없애는 것이었죠. 따라서, 그냥 텍스트파일로 작성하던지, 아니면 커맨드라인으로 쓰던지 해서 그냥 공유하면 됩니다. 왜냐하면,

~~~bash
if [ -f "$1" ]; then 
  message="$(cat "$1" | sed 's/$/<br>/' | tr '\n' ' ')"
else
  message="$1"
fi
~~~

와 같이 해 두었으므로, 파일이 있으면, 파일 내용을 적당히 처리하여 (위에서처럼 엔터/newline 문자를 다른 문자로 바꾸어서 보내는) 보내고, 아니면 바로 이어서 쓴 글을 보내는 식으로 되도록 해 놓은거죠. 자세한 내용은 위 글을 참고하세요.

그러다보니, 이제는 페이스북/트위터에 글을 쓰기가 너무 쉬워졌습니다. 한 가지 문제는 트위터는 글자 제한을 넘으면 알아서 줄여주지 않고 에러를 낸다는거죠. 그래서 글자를 줄여야 하는데, 280자라더니 한중일은 여전히 140자라서 그걸 몰라서 좀 고생을 했네요.

어쨌든 공유하기가 너무 쉬워지니, 이제는 공유를 많이 합니다. 언제 어디서나 글을 읽다가 간단하게 공유하기가 너무 쉬워졌거든요. 다음 페이지입니다.

- [페이스북 페이지](https://facebook.com/hyunkimlaw),
- [트위터](https://twitter.com/lawfully)

참고로 원래 제 페이스북 프로필 페이지는 [프로필 페이지](https://facebook.com/lawfully)이지만, 위 페이지를 많이 씁니다. 이걸 하면서 배운건데, 프로필은 개인 페이지이고, 페이지는 개인이 아닌 회사나 조직 페이지라 좀 더 상업적이고, 그러니까 프로필은 친구가 되고, 페이지는 좋아요를 하며, 그 대신 페이지는 스크립트를 쓸 수 있다는 (그리고 통계를 볼 수 있다는) 큰 차이가 있더군요. 그리고, 페이스북 포스팅에는 대체로 세 가지가 있습니다. 그냥 포스트, 사진, 링크 포스트. 이 가운데 링크 포스트는 모조리 구글 스프레드시트로 보내도록 하였습니다. 그리고, 이걸 가지고 와서 -- 제가 여기서는 마크다운 포맷을 쓰므로, 마크다운 리스트로 만드는 스크립트를 만들었죠.

~~~bash
#!/bin/bash
curl -L https://docs.google.com/spreadsheets/d/{spreadsheet address}/export?format=csv > `date +%F`-sheet.csv
touch `date +%F`-review.md
awk -F "\"*,\"*" '{print $2}' `date +%F`-sheet.csv | while read line; do
title=`wget -qO- $line | perl -l -0777 -ne 'print $1 if /<title.*?>\s*(.*?)\s*<\/title/si'`
echo "- [$title]($line): " >> `date +%F-review.md`
done
~~~

첫번째 행에서는 스프레드시트 정보를 입력하여 이것을 `CSV` 파일로 가져옵니다. 그리고, 그날 날짜가 붙은 `csv` 파일로 저장하죠 (첫번째 줄). 여기에서 `{spreadsheet address}`에 해당하는 부분은 자기가 만든 스프레드시트를 공유한 다음 (주소가 있으면 볼 수 있음), 주소를 보면 나오는 부분입니다.

두번째 줄에서는 `review` 파일을 마크다운으로 만듭니다.

세번째 줄에서는 `awk`를 이용하여 `csv` 파일의 두번째 열(첫번째 열에는 날짜를 입력하였으므로)을 가지고 와서 `line`이라는 변수에 저장한 다음 (세번째줄, 이건 인터넷 주소입니다), `wget`으로 해당 줄 내용을 모두 읽어서 제목을 가지고 온 다음, 제목 정보를 `title`에 저장하고 (네번재줄), 그걸 두번째 줄에서 만든 파일에 목록, 제목, 링크로 저장합니다. ... 

편해 졌네요. 누군가 말한 것처럼, 아무 할 일 없이 집에만 있으니 생산성이 부쩍 올라갑니다. 책도 많이 읽고, 코딩도... 

그리고, 하다보니 문득 제가 요즘 관심 있게 보는 법률 테크의 큐레이팅을 하고 있네요.

다음주에는 업무와 직접 관련된 것을 좀 더 자동화해 볼 생각입니다.